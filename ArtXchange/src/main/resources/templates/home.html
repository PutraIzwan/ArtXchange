<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home - ArtXchange</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
</head>
<body>
<!-- Navigation with Logout -->
<nav class="navbar">
    <div class="navbar-container">
        <a th:href="@{/}" class="logo">ArtXchange</a>
        <div class="nav-links">
            <a th:href="@{/profile}">My Profile</a>
            <a th:href="@{/gallery}">Gallery</a>
            <form th:action="@{/logout}" method="post" id="logoutForm">
                <button type="submit" class="logout-btn">Logout</button>
            </form>
        </div>
    </div>
</nav>

<div class="container">
    <h1>Welcome to Your ArtXchange Dashboard</h1>
    <p>Discover and connect with artists worldwide</p>
</div>

<script th:inline="none">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize Firebase (same config as index.html)
        const firebaseConfig = {
            apiKey: "AIzaSyA3HAYbnazr_bHlSIdVTshVeC26f1d71qI",
            authDomain: "artxchange-a4df4.firebaseapp.com",
            projectId: "artxchange-a4df4",
            storageBucket: "artxchange-a4df4.appspot.com",
            messagingSenderId: "453352605616",
            appId: "1:453352605616:web:6fcabece2f676518853875"
        };
        firebase.initializeApp(firebaseConfig);

        // Handle logout
        document.getElementById('logoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            firebase.auth().signOut()
                .then(() => {
                    this.submit(); // Submit the Spring logout form
                })
                .catch((error) => {
                    console.error('Logout error:', error);
                });
        });
    });
    /*]]>*/
</script>
</body>
</html>